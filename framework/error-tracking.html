<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Error Tracking - Darklang roadmap</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../goals-of-dark-v2.html"><strong aria-hidden="true">2.</strong> Goals of Dark v2</a></li><li class="chapter-item expanded "><a href="../language/index.html"><strong aria-hidden="true">3.</strong> Language</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language/built-in-types/index.html"><strong aria-hidden="true">3.1.</strong> Built in types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language/built-in-types/ints.html"><strong aria-hidden="true">3.1.1.</strong> Int</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/strings.html"><strong aria-hidden="true">3.1.2.</strong> String</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/characters.html"><strong aria-hidden="true">3.1.3.</strong> Character</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/floats.html"><strong aria-hidden="true">3.1.4.</strong> Float</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/tuples.html"><strong aria-hidden="true">3.1.5.</strong> Tuple</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/bools.html"><strong aria-hidden="true">3.1.6.</strong> Bool</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/lists.html"><strong aria-hidden="true">3.1.7.</strong> List</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/dictionaries.html"><strong aria-hidden="true">3.1.8.</strong> Dictionary</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/options.html"><strong aria-hidden="true">3.1.9.</strong> Option</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/results.html"><strong aria-hidden="true">3.1.10.</strong> Result</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/set.html"><strong aria-hidden="true">3.1.11.</strong> Set</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/refs.html"><strong aria-hidden="true">3.1.12.</strong> Ref</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/regex.html"><strong aria-hidden="true">3.1.13.</strong> Regex</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/uuids.html"><strong aria-hidden="true">3.1.14.</strong> UUID</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/bytes.html"><strong aria-hidden="true">3.1.15.</strong> Bytes</a></li><li class="chapter-item expanded "><a href="../language/built-in-types/null.html"><strong aria-hidden="true">3.1.16.</strong> Null</a></li></ol></li><li class="chapter-item expanded "><a href="../language/control-flow/index.html"><strong aria-hidden="true">3.2.</strong> Control-flow</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language/control-flow/concurrency-parallelism.html"><strong aria-hidden="true">3.2.1.</strong> Concurrency / parallelism</a></li><li class="chapter-item expanded "><a href="../language/control-flow/functions/index.html"><strong aria-hidden="true">3.2.2.</strong> Functions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language/control-flow/functions/higher-order-functions.html"><strong aria-hidden="true">3.2.2.1.</strong> Higher-order functions</a></li><li class="chapter-item expanded "><a href="../language/control-flow/functions/binops.html"><strong aria-hidden="true">3.2.2.2.</strong> BinOps</a></li><li class="chapter-item expanded "><a href="../language/control-flow/functions/function-definitions.html"><strong aria-hidden="true">3.2.2.3.</strong> Function definitions</a></li><li class="chapter-item expanded "><a href="../language/control-flow/functions/function-calls.html"><strong aria-hidden="true">3.2.2.4.</strong> Function calls</a></li><li class="chapter-item expanded "><a href="../language/control-flow/functions/lambda.html"><strong aria-hidden="true">3.2.2.5.</strong> Lambda</a></li><li class="chapter-item expanded "><a href="../language/control-flow/functions/pipe.html"><strong aria-hidden="true">3.2.2.6.</strong> Pipe</a></li></ol></li><li class="chapter-item expanded "><a href="../language/control-flow/match.html"><strong aria-hidden="true">3.2.3.</strong> Match</a></li><li class="chapter-item expanded "><a href="../language/control-flow/let-statements.html"><strong aria-hidden="true">3.2.4.</strong> Let</a></li><li class="chapter-item expanded "><a href="../language/control-flow/if-statements.html"><strong aria-hidden="true">3.2.5.</strong> If</a></li></ol></li><li class="chapter-item expanded "><a href="../language/type-system/index.html"><strong aria-hidden="true">3.3.</strong> Type System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language/type-system/real-types.html"><strong aria-hidden="true">3.3.1.</strong> Real types</a></li><li class="chapter-item expanded "><a href="../language/type-system/type-checking.html"><strong aria-hidden="true">3.3.2.</strong> Type checking</a></li><li class="chapter-item expanded "><a href="../language/type-system/error-rail.html"><strong aria-hidden="true">3.3.3.</strong> Error Rail</a></li><li class="chapter-item expanded "><a href="../language/type-system/records.html"><strong aria-hidden="true">3.3.4.</strong> Records</a></li><li class="chapter-item expanded "><a href="../language/type-system/enums.html"><strong aria-hidden="true">3.3.5.</strong> Enums</a></li><li class="chapter-item expanded "><a href="../language/type-system/type-aliases.html"><strong aria-hidden="true">3.3.6.</strong> Type aliases</a></li><li class="chapter-item expanded "><a href="../language/type-system/traits.html"><strong aria-hidden="true">3.3.7.</strong> Traits</a></li></ol></li><li class="chapter-item expanded "><a href="../language/modules-and-namespacing.html"><strong aria-hidden="true">3.4.</strong> Modules and Namespacing</a></li><li class="chapter-item expanded "><a href="../language/json-handling.html"><strong aria-hidden="true">3.5.</strong> JSON handling</a></li><li class="chapter-item expanded "><a href="../language/language-versioning.html"><strong aria-hidden="true">3.6.</strong> Language versioning</a></li></ol></li><li class="chapter-item expanded "><a href="../editor/index.html"><strong aria-hidden="true">4.</strong> Editor</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../editor/help-understanding.html"><strong aria-hidden="true">4.1.</strong> Help understanding</a></li><li class="chapter-item expanded "><a href="../editor/error-messages.html"><strong aria-hidden="true">4.2.</strong> Error messages</a></li><li class="chapter-item expanded "><a href="../editor/fluid-editor.html"><strong aria-hidden="true">4.3.</strong> Fluid editor</a></li><li class="chapter-item expanded "><a href="../editor/permissions-model.html"><strong aria-hidden="true">4.4.</strong> Permissions model</a></li><li class="chapter-item expanded "><a href="../editor/collaboration.html"><strong aria-hidden="true">4.5.</strong> Collaboration</a></li><li class="chapter-item expanded "><a href="../editor/ops.html"><strong aria-hidden="true">4.6.</strong> Ops</a></li><li class="chapter-item expanded "><a href="../editor/refactoring-commands.html"><strong aria-hidden="true">4.7.</strong> Refactoring commands</a></li><li class="chapter-item expanded "><a href="../editor/feature-flags.html"><strong aria-hidden="true">4.8.</strong> Feature flags</a></li><li class="chapter-item expanded "><a href="../editor/canvas.html"><strong aria-hidden="true">4.9.</strong> Canvas / code organization</a></li><li class="chapter-item expanded "><a href="../editor/profiler.html"><strong aria-hidden="true">4.10.</strong> Profiler</a></li><li class="chapter-item expanded "><a href="../editor/accounts.html"><strong aria-hidden="true">4.11.</strong> Accounts</a></li></ol></li><li class="chapter-item expanded "><a href="../framework/index.html"><strong aria-hidden="true">5.</strong> Framework</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../framework/error-tracking.html" class="active"><strong aria-hidden="true">5.1.</strong> Error Tracking</a></li><li class="chapter-item expanded "><a href="../framework/http-framework.html"><strong aria-hidden="true">5.2.</strong> HTTP handlers</a></li><li class="chapter-item expanded "><a href="../framework/graphql.html"><strong aria-hidden="true">5.3.</strong> GraphQL</a></li><li class="chapter-item expanded "><a href="../framework/datastores.html"><strong aria-hidden="true">5.4.</strong> Datastores</a></li><li class="chapter-item expanded "><a href="../framework/workers.html"><strong aria-hidden="true">5.5.</strong> Workers</a></li><li class="chapter-item expanded "><a href="../framework/cron-scheduled-jobs.html"><strong aria-hidden="true">5.6.</strong> Cron / scheduled jobs</a></li><li class="chapter-item expanded "><a href="../framework/analysis-and-traces.html"><strong aria-hidden="true">5.7.</strong> Traces / analysis / tests</a></li><li class="chapter-item expanded "><a href="../framework/domain-registration.html"><strong aria-hidden="true">5.8.</strong> Domain registration</a></li><li class="chapter-item expanded "><a href="../framework/static-assets.html"><strong aria-hidden="true">5.9.</strong> Static assets</a></li></ol></li><li class="chapter-item expanded "><a href="../infrastructure/index.html"><strong aria-hidden="true">6.</strong> Infrastructure</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../infrastructure/program-storage.html"><strong aria-hidden="true">6.1.</strong> Program storage</a></li></ol></li><li class="chapter-item expanded "><a href="../stdlib/index.html"><strong aria-hidden="true">7.</strong> Libraries</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../stdlib/packages-and-stdlib.html"><strong aria-hidden="true">7.1.</strong> Package manager</a></li><li class="chapter-item expanded "><a href="../stdlib/httpclient-calls.html"><strong aria-hidden="true">7.2.</strong> HTTPClient calls</a></li><li class="chapter-item expanded "><a href="../stdlib/style-guide.html"><strong aria-hidden="true">7.3.</strong> Style guide</a></li><li class="chapter-item expanded "><a href="../stdlib/dark-v1-stdlib-1.html"><strong aria-hidden="true">7.4.</strong> Dark v1 stdlib</a></li><li class="chapter-item expanded "><a href="../stdlib/user-module.html"><strong aria-hidden="true">7.5.</strong> User module</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Darklang roadmap</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="error-tracking"><a class="header" href="#error-tracking">Error Tracking</a></h1>
<p>Developers need to feel safe that Dark works. Right now, it is impossible (or at least extremely challenging) to know if your users are having issues, if all webhooks are being accepted, etc. Requests may hit Dark but hit an error of many kinds, and that error will create a trace that is hard to find.</p>
<p>Categories of error:</p>
<ul>
<li>runtime errors
<ul>
<li>coding error:
<ul>
<li>an incomplete value appears</li>
</ul>
</li>
<li>unexpected function error
<ul>
<li>a DError (Dark built-in error)</li>
</ul>
</li>
<li>unhandled exception
<ul>
<li>DErrorRail - an error path reaches the user with Error/Nothing</li>
</ul>
</li>
<li>an expected unexpected value
<ul>
<li>Non-200 results</li>
</ul>
</li>
<li>dev-defined assertion</li>
</ul>
</li>
<li>&quot;compile time&quot;
<ul>
<li>unit tests not passing</li>
<li>uses of deprecated functions</li>
</ul>
</li>
<li>other
<ul>
<li>can users add bugs, TODOs, etc, in here.</li>
<li>Can users add things in here dynamically?</li>
</ul>
</li>
</ul>
<h3 id="problem-developers-should-be-able-to-discover-the-error"><a class="header" href="#problem-developers-should-be-able-to-discover-the-error">Problem: developers should be able to discover the error</a></h3>
<p><strong>Solution:</strong> Error traces should be put in a dead-letter queue, which have urls</p>
<p><strong>Solution:</strong> Developers should be notified about errors. One implementation is that there would be a default error handler for the whole canvas, which would email the developer for each error (potentially every nth error). As an extension, this handler could be customized (if there is an error in the customization, the default handler would run again).</p>
<p><strong>Solution:</strong> the canvas should have a list of TODO items, which should include errors in the error tracker</p>
<h3 id="problem-developers-should-be-able-to-solve-the-error"><a class="header" href="#problem-developers-should-be-able-to-solve-the-error">Problem: developers should be able to solve the error</a></h3>
<p><strong>Solution:</strong> When an error is found, the notification should link to the trace. The trace should be replayable (either fully or partially) using existing trace features, which would allow the developer to ensure the intended action still happens for their user. The dev should then able to  to resolve it.</p>
<p><strong>Solution:</strong> If there are a lot of errors, the user should be able to handle them all. For example, all of them could be pushed into a standard queue to be processed. If this is done, a button to run just one queue entry would be extremely valuable.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../framework/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../framework/http-framework.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../framework/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../framework/http-framework.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
